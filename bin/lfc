#!/bin/bash

#==========================================================
# Description: 	    Run the lfc compiler.
# Authors:          Marten Lohstroh
#                   Christian Menard
# Usage:            Usage: lfc [options] files...
#==========================================================

# FIXME: Move this script to lib as well, and create symlinks

set -euo pipefail

# Absolute path to the directory containing this script, even in presence of links
bindir=`dirname "$(readlink -f "$0")"`
# the base directory
base=`dirname ${bindir}`

# Import utility functions
source "${base}/lib/bash/util.sh" 

# Find the jar.
find_jarpath

# Check if a jar was found.
if [[ "${jar_found}" == "false" ]]; then
    fatal_error "Cannot find lfc jar"
fi

check_jre_version

# run the command
run_jar_with_args "$@"
