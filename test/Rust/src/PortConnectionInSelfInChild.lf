// Tests a port connection between (input of self -> input of child)
target Rust;

reactor Source {
    output out: i32;
    reaction(startup) -> out {=
      ctx.set(out, 76600);
      println!("out := 76600")
    =}
}
reactor Parent {
    output out: i32;
    child = new Source();
    child.out -> out;

    reaction(out) {=
        assert_matches!(ctx.get(inp), Some(76600));
        println!("Success")
    =}
}
main reactor {
    parent = new Parent();
}
