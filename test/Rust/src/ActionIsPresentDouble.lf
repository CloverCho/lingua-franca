// Test logical action with delay.
target Rust;

main reactor ActionIsPresentDouble {
    logical action act0;
    logical action act1(100 msec);

    reaction(startup) -> act0, act1 {=
        ctx.schedule(act0, AfterMillis(100));
        ctx.schedule(act1, AfterMillis(0));
        ctx.schedule(act1, Asap);
    =}

    reaction(act1, act0) {=
        assert!(ctx.is_present(act0));
        assert!(ctx.is_present(act1));
        println!("success")
    =}

}
