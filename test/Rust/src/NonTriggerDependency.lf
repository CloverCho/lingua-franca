/* Test that reactions are executed inside out. Uses ports of child reactors. */
target Rust;

reactor Bar {
    output out: u32;
    reaction(startup) -> out {=
        ctx.set(out, 42);
    =}
}

main reactor StartupOutFromInside {
    bar = new Bar();
    reaction(startup) bar.out {=
        // the inner port is accessible with a simple name.
        assert_eq!(ctx.get(bar__out), Some(42));
    =}
}
