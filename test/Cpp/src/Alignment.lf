// This test checks that the downstream reaction is not invoked more
// than once at a logical time.
target Cpp {
    logging: LOG,
    timeout: 1 sec
}

reactor Source {
    output out:int;
    state count:int(1);
    timer t(0, 100 msec);
    reaction(t) -> out {=
        count++;
        out.set(count);
    =}
}

reactor Sieve {
        input in:int;
        output out:bool;
        state primes:int*({= nullptr =});
        state last_prime:int(0);
        reaction(startup) {=
            // There are 1229 primes between 1 and 10,000.
            // VECTOR HERE
        =}
}