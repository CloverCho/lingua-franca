target C;
main reactor Periodic(
        offset:time(0), 
        period:time(500 msec)) {
    logical action init(offset);
    logical action recur(period);
    
    reaction(startup) -> init, recur {=
        if (self->offset == 0) {
            printf("Hello World!\n");
            schedule_pure_event(recur, 0);		
        } else {
            schedule_pure_event(init, 0);
        }
    =}
  
    reaction(init, recur) -> recur {=
        printf("Hello World!\n");
        schedule_pure_event(recur, 0);
    =}
}
