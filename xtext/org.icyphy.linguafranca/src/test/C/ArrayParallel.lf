// Source2 allocates an array dynamically and then sends it to two reactors,
// each of which want to modify it. One copy is made.
target C;
import ArrayScale.lf;

main reactor ArrayParallel {
    s = new Source();
    c1 = new Scale();
    c2 = new Scale(scale = 3);
    p1 = new Print();
    p2 = new Print();
    s.out -> c1.in;
    s.out -> c2.in;
    c1.out -> p1.in;
    c2.out -> p2.in;
}