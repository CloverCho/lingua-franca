/*
 * generated by Xtext 2.23.0
 */

package org.lflang;

import java.util.Objects;

import org.lflang.generator.ReportingHelper;
import org.lflang.generator.StandaloneErrorReporter;

import com.google.inject.Binder;
import com.google.inject.Module;

/**
 * Module that is only available when running LFC as a
 * standalone program.
 *
 * @see LFRuntimeModule
 */
public class LFStandaloneModule implements Module {
    // Note that xtext's base module classes has broken support
    // for @Provides, which would allow us to bind this field.
    // So we directly implement Module, instead of extending eg LFRuntimeModule.
    private final ReportingHelper helper;

    public LFStandaloneModule(ReportingHelper helper) {
        this.helper = Objects.requireNonNull(helper);
    }

    @Override
    public void configure(Binder binder) {
        binder.bind(ErrorReporter.class).to(StandaloneErrorReporter.class);
        binder.bind(ReportingHelper.class).toInstance(helper);
    }
}
